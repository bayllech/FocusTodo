# FocusTodo 使用说明

## 功能概览

FocusTodo 是一个跨平台的待办事项和番茄时钟应用,支持主窗口和悬浮窗两种显示模式。

## 主要功能

### 1. 待办任务管理
- ✅ 添加任务并设置优先级(低/中/高)
- ✅ 勾选完成任务
- ✅ 任务自动保存到本地文件
- ✅ 主窗口和悬浮窗实时同步

### 2. 番茄时钟
- ⏱️ **三种模式**:
  - 专注模式:默认25分钟
  - 短休模式:默认5分钟
  - 长休模式:默认15分钟
- ▶️ **计时控制**:开始、暂停、继续、重置
- 📊 **进度可视化**:圆形进度条显示剩余时间
- 🔄 **自动切换**:可选择自动进入下一阶段
- 💾 **自动记录**:完成的番茄自动保存
- 🔔 **系统通知**:番茄完成时发送通知

### 3. 悬浮窗
- 🎯 置顶显示,不占用任务栏
- 📍 记忆窗口位置,下次启动恢复
- 👀 快速查看待办和番茄配置
- 🖱️ 可拖动调整位置

## 使用方法

### 启动程序
```bash
npm run tauri:dev
```

### 基本操作

#### 管理待办任务
1. 在输入框中输入任务标题
2. 选择优先级(低/中/高)
3. 点击"添加任务"按钮
4. 勾选复选框标记任务完成

#### 使用番茄时钟
1. 在主窗口找到"番茄时钟"区域
2. 点击选择模式(专注/短休/长休)
3. 点击"开始"按钮开始计时
4. 可以随时"暂停"或"重置"
5. 计时结束会:
   - 自动保存记录
   - 发送系统通知
   - 根据设置自动切换模式

#### 切换悬浮窗
1. 点击主窗口右上角"切换悬浮窗"按钮
2. 悬浮窗会显示/隐藏
3. 悬浮窗可以拖动到任意位置
4. 关闭程序时会记住悬浮窗位置

### 配置选项

#### 自动进入下一阶段
- 启用后,番茄结束会自动切换:
  - 专注结束 → 短休/长休
  - 休息结束 → 专注
- 每4个专注番茄后会进入长休

#### 番茄时钟配置
当前配置(可在代码中修改):
- 专注时长:25分钟
- 短休时长:5分钟
- 长休时长:15分钟
- 长休间隔:每4轮专注

## 数据存储

所有数据自动保存到本地文件:
- 待办任务:`todos.json`
- 番茄记录:`pomodoro_sessions.json`
- 番茄配置:`pomodoro_config.json`
- 窗口状态:`settings.json`

文件位置:应用数据目录(根据操作系统不同而不同)

## 快捷操作

- **关闭主窗口**:点击X按钮,会自动:
  - 保存窗口状态
  - 关闭悬浮窗
  - 退出程序

- **隐藏悬浮窗**:在悬浮窗点击"隐藏"按钮

- **打开主面板**:在悬浮窗点击"打开主面板"按钮

## 提示与技巧

1. **专注工作流**:
   - 开始工作前添加今日待办
   - 启动番茄时钟,专注25分钟
   - 短休5分钟放松
   - 4个番茄后长休15分钟

2. **悬浮窗使用**:
   - 工作时保持悬浮窗显示
   - 随时查看待办和时间
   - 快速标记任务完成

3. **自动切换**:
   - 如果工作节奏稳定,建议开启自动切换
   - 可以减少手动操作,保持专注

## 常见问题

### Q: 悬浮窗没有显示?
A: 点击主窗口的"切换悬浮窗"按钮

### Q: 番茄时钟没有通知?
A: 检查系统通知权限是否开启

### Q: 任务数据丢失?
A: 数据自动保存,检查应用数据目录

### Q: 窗口位置没有记忆?
A: 正常关闭程序(点击X),不要强制结束进程

## 技术栈

- **前端**: React + TypeScript + Zustand
- **后端**: Tauri + Rust
- **样式**: CSS Variables
- **通知**: Tauri Notification Plugin

## 开发计划

未来可能添加的功能:
- [ ] 自定义番茄时长
- [ ] 任务标签系统
- [ ] 数据统计图表
- [ ] 云同步支持
- [ ] 快捷键支持
- [ ] 主题切换

---

**享受专注时光!** 🍅✨
